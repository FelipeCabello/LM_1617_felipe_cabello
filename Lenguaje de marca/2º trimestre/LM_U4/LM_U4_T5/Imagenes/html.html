<!DOCTYPE html>
<html>
	<head>
		<script src="js/jquery-3.1.1.min.js"></script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="estilos.css">
	</head>
	<body>
		<div class="container">
			<div class="imagenes">
				<div class="imagen">
					<img src="duro.jpg" alt="duro">
				</div>
				<div class="imagen visible">
					<img src="azotea.jpg" alt="azotea">
				</div>
				<div class="imagen">
					<img src="flor.jpg" alt="flor">
				</div>
				<div class="imagen">
					<img src="rojo.jpg" alt="rojo">
				</div>
			</div>
			<div class="puntos">
				<img src="punto.jpg" alt="">
				<img src="punto.jpg" alt="">
				<img src="punto.jpg" alt="">
				<img src="punto.jpg" alt="">
			</div>
			<div class="flechas">
				<img id="izquierda" src="izquierda.jpg" alt="izquierda">
				<img id="derecha" src="derecha.jpg" alt="derecha">
			</div>
		</div>

		<script>
		$(function() {

			//Cuando querramos ocultar o mostrar un elemento, y tambien queremos usar el animate, es necesario hacer
			//dandole estilos con opacity igual a 0, ya que con "hide" o "show" da errores.

			$("#izquierda").hide();
			$(".imagen").animate({opacity: 0}, 200);
			$(".imagen").first().addClass("visible").animate({opacity: 1}, 200);

			$("#derecha").click(function(event) {

					if ($(".visible").nextAll(".imagen").length==1){

									$("#derecha").hide();
							}

					if ($(".visible").next(".imagen").length!=0){
								$(".visible").animate({opacity: 0}, 200).removeClass("visible").next(".imagen").addClass("visible");
								$(".visible").animate({opacity: 1}, 200);
								$("#izquierda").show();
					}
			});


			$("#izquierda").click(function(event) {

					if ($(".visible").prevAll(".imagen").length==1){

									$("#izquierda").hide();
							}
					if ($(".visible").prev(".imagen").length!=0){
								$(".visible").animate({opacity: 0}, 200).removeClass("visible").prev(".imagen").addClass("visible");
								$(".visible").animate({opacity: 1}, 200);
								$("#derecha").show();
					}

			});
		});
		</script>
	</body>
</html>
